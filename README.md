# SpringInAndroid

## åŠŸèƒ½

1ã€æœ¬åº“å†…ç½®äº†å¼€å‘ä¸­å¸¸ç”¨çš„ä¸€äº›æ³¨è§£ä¾›ä½ ä½¿ç”¨ã€‚

2ã€æœ¬åº“æœ‰xml+æ³¨è§£å’Œxmlä¸¤ç§é…ç½®æ–¹å¼ï¼Œæ¨èä½¿ç”¨xml+æ³¨è§£çš„é…ç½®æ–¹å¼ã€‚

3ã€æœ¬åº“æ”¯æŒäºŒæ¬¡å¼€å‘ï¼Œè®©ä½ è‡ªå·±å®šä¹‰æ³¨è§£ä»¥åŠxmlæ ‡ç­¾è§„åˆ™ã€‚

4ã€æœ¬åº“ç›®å‰åªæ”¯æŒjavaä»£ç ï¼Œå¯¹äºkotlinä»£ç çš„æ”¯æŒååºæ›´æ–°ã€‚

5ã€æœ¬åº“ä½¿ç”¨pullè§£ææ–¹å¼è§£æxmlæ–‡ä»¶ï¼Œæ›´åŠ é«˜æ•ˆå®‰å…¨ã€‚

6ã€æœ¬åº“ç¦æ­¢å‡ºç°å¾ªç¯ä¾èµ–(å‡ºç°å¾ªç¯ä¾èµ–ä¼šç›´æ¥æŠ›å‡ºå¼‚å¸¸)ï¼Œç¼–å†™ä»£ç çš„æ—¶å€™è¿˜è¯·æ³¨æ„ã€‚

7ã€æœ¬é¡¹ç›®å†…ç½®äº†ä¸€äº›åœºæ™¯ä¸‹çš„è§£è€¦æ¡ˆä¾‹ï¼Œååºä¼šæ›´æ–°æ›´å¤šåœºæ™¯ä¸‹çš„è§£è€¦æ¡ˆä¾‹ã€‚

8ã€æœ¬åº“æ”¯æŒå¯ä¸å…¶ä»–æ¡†æ¶(å¦‚mvp,mvc,mvvmç­‰)é…åˆä½¿ç”¨ï¼Œè§£è€¦æ•ˆæœæ›´ä½³ã€‚

9ã€æœ¬åº“åæœŸå°†å’Œå…¶ä»–ç±»å‹çš„æ¡†æ¶è¿›è¡Œæ•´åˆï¼Œè‡´åŠ›äºå®ç°springbootå¼€ç®±å³ç”¨çš„æ•ˆæœã€‚

### ç‰ˆæœ¬é™åˆ¶

æœ€ä½Gradleç‰ˆæœ¬ï¼š7.6ğŸ‘‡ï¼ˆæ”¯æŒ8.0ä»¥ä¸Šï¼‰

æœ€ä½SDKç‰ˆæœ¬ï¼šminSdkVersion >= 21

## ä½¿ç”¨æ­¥éª¤

ç”±äºJCenterè´¦å·æ²¡æœ‰æ³¨å†ŒæˆåŠŸï¼Œç›®å‰åªæ”¯æŒä¸‹è½½åˆ°æœ¬åœ°ä½¿ç”¨

### ä¸€ã€è¿›è¡Œé…ç½®ï¼Œä¸‹è¾¹ä¸¤ç§æ–¹å¼äºŒé€‰ä¸€ï¼ˆå¿…é¡»ï¼‰


#### æ–¹å¼ä¸€ï¼šxml+æ³¨è§£ï¼ˆæ¨èï¼‰

åœ¨ xml æ–‡ä»¶ä¸­é…ç½®éœ€è¦æ‰«æçš„ç›®å½•ï¼Œä½¿ç”¨æ³¨è§£å¯¹è¯¥ç›®å½•ä¸‹çš„ç›¸å…³ä¿¡æ¯è¿›è¡Œæ ‡æ³¨ã€‚
#####  æœ¬åº“å†…ç½®äº†ä¸€äº›åŠŸèƒ½æ³¨è§£å’Œæ ‡ç­¾å¯ä¾›ä½ ç›´æ¥ä½¿ç”¨ï¼ˆæ ¹æ®é¡¹ç›®å®é™…æƒ…å†µå¯è‡ªè¡Œæ‰©å±•ï¼‰

######  æ³¨è§£
| æ³¨è§£åç§°             |                                                å‚æ•°è¯´æ˜                                                 |                                        åŠŸèƒ½è¯´æ˜                             |
|------------------|:---------------------------------------------------------------------------------------------------:|:-----------------------------------------------------------------------------------:|
| @Autowired       |                                      boolean required() default true                                |          å®ç°è‡ªåŠ¨è£…é…ï¼Œé€šè¿‡è¿™ä¸ªæ³¨è§£ï¼ŒIOC å®¹å™¨å¯ä»¥è‡ªåŠ¨åœ°å°†æ‰€éœ€çš„ä¾èµ–æ³¨å…¥åˆ°è¢«æ ‡æ³¨çš„å­—æ®µå…¥                        |
| @Component       |                                      String value() default ""                                      |                              IOC å®¹å™¨ä¼šå°†æ ‡è®°ç±»çš„å®ä¾‹ä½œä¸ºä¸€ä¸ª Bean ç®¡ç†                                 |
| @Primary         |                                      æ— å‚æ•°                                                          |                       å½“å­˜åœ¨å¤šä¸ªç›¸åŒç±»å‹çš„ bean æ—¶ï¼Œåº”è¯¥ä¼˜å…ˆé€‰æ‹©å“ªä¸€ä¸ªè¿›è¡Œè‡ªåŠ¨è£…é…                    |
| @Qualifier       |                                      String value() default ""                                       |                              æŒ‡å®šè¦æ³¨å…¥çš„å…·ä½“ bean                                           |
| @Scope           |                                      String value() default BeanDefinition.SCOPE_SINGLETION          |                                  å®šä¹‰ Bean çš„ä½œç”¨åŸŸ                                           |
| @Value           |                                      String value()                                                  |                            å°†å¤–éƒ¨çš„å€¼æ³¨å…¥åˆ° Bean çš„æ–¹æ³•å‚æ•°æˆ–æ„é€ å™¨å‚æ•°ä¸­              |


######  xmlæ ‡ç­¾
| æ ‡ç­¾åç§°             |                                                å±æ€§è¯´æ˜                                                 |                                        åŠŸèƒ½è¯´æ˜                             |
|----------------------|:---------------------------------------------------------------------------------------------------:|:-----------------------------------------------------------------------------------:|
| beans              |                                                        æ—                                               |                                   ç”¨äºå®šä¹‰å’Œé…ç½® åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­çš„ bean                                  |
| bean               |                                          id(æŒ‡å®š Bean çš„å”¯ä¸€æ ‡è¯†ç¬¦),class(æŒ‡å®š Bean çš„å®ç°ç±»)           |                                            ç”¨äºå®šä¹‰ä¸€ä¸ª  Bean                                            |
| constructor-arg    |                                       name(å‚æ•°åç§°),value(æ³¨å…¥åŸºæœ¬ç±»å‹å‚æ•°å€¼),ref(æ³¨å…¥ä¾èµ–)          |                                    æŒ‡å®šé€šè¿‡æ„é€ å‡½æ•°æ³¨å…¥ä¾èµ–
                     |                                                                                             
| component-scan     |                                       base-package(æŒ‡å®šæ‰«æç»„ä»¶çš„åŸºç¡€åŒ…è·¯å¾„)                           |                                æŒ‡å®šè¦æ³¨å…¥çš„å…·ä½“ bean                               



#### æ–¹å¼äºŒï¼šçº¯xml æ–¹å¼ï¼ˆä¸æ¨èï¼‰

ç›´æ¥xmlæ–‡ä»¶ä¸­é…ç½®æ‰€æœ‰ä¿¡æ¯

### äºŒã€é¡¹ç›®å®æˆ˜
#### 1ã€å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªä»å„ç§æ¥æºè·å–æ•°æ®çš„åº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬å¿…é¡»è§£æä¸åŒç±»å‹çš„æ–‡ä»¶ï¼Œæ¯”å¦‚è§£æCSVæ–‡ä»¶å’ŒJSONæ–‡ä»¶ã€‚
##### ä¼ ç»Ÿå†™æ³•ï¼š
å®šä¹‰ä¸€ä¸ªæ¥å£
```java
public interface Parser {
    List parse(Reader r);
}
```

æ ¹æ®ä¸åŒæ–‡ä»¶ç±»å‹æœ‰ä¸åŒçš„å®ç°ç±»ã€‚
```java
public class JSONParser implements Parser {
    @Override
    public List parse(Reader r) {
        Log.d("test__", "JSONParserè§£æ");
        return null;
    }
}
```
```java
public class CSVParser implements Parser{
    @Override
    public List parse(Reader r) {
        Log.d("test","CSVParserè§£æ");
        return null;
    }
}
```
å®¢æˆ·ç«¯è¿›è¡Œè°ƒç”¨ï¼Œå¯ä»¥æ˜æ˜¾å‘ç°è§£æå™¨ä¸å®¢æˆ·ç«¯è°ƒç”¨è€¦åˆä¸¥é‡
```java
public class Client {
    private Parser csvParser, jsonParser;

    public Client(Parser csvParser, Parser jsonParser) {
        this.csvParser = csvParser;
        this.jsonParser = jsonParser;
    }

    Reader reader;

    public List getAll(String contentType) {

        switch (contentType) {
            case "CSV":
                return csvParser.parse(reader);
            case "JSON":
                return jsonParser.parse(reader);
        }

        return null;
    }

}
```

ä½¿ç”¨æœ¬åº“åå¯å†™æˆï¼š
```java
@Component
public class Client {

    @Autowired
    Map<String, Parser> parserMap;

    Reader reader;

    public List getAll(String contentType) {
        return parserMap.get(contentType).parse(reader);
    }

}
```
å®¢æˆ·ç«¯ä¸è§£æå™¨å®ç°è§£è€¦ï¼Œå…·ä½“å®ç°ç»†èŠ‚å¯å‚è€ƒé¡¹ç›®æˆ–è€…ã€ŠSpringInAndroidä½¿ç”¨è¯´æ˜ã€‹ã€‚



